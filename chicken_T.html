<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="viewport" content="width=divice-width,initial-scale=1.0">
<!--       <link rel="stylesheet" type="text/css" href=".css"> -->
<title>자바스크립트 7일차 상품리스트출력 응용(풀이)</title>
<script src="http://192.168.100.77:8080/js/product_list.js?v=0002"></script>
<script>
      	function allcheck() {
			if(f.allcheck.checked==true){	
      			var w = 0;
				while(w<ea){
					f.pd[w].checked=true;
					w++;
				}
			}
      		else{
      			while(w<ea){
					f.pd[w].checked=false;
					w++;
      		}
      	}
      	}
      		
      		function method2() {
				//하나라도 체크가 되어야만 전송이 됨 (응용)
      			
      			f.submit();
			}
      	
      </script>
<style>
</style>
</head>
<body>

	<form name="f" id="f" method="get" action="./product.html">
	
		<table border="1" cellpadding="0" cellspacing="0">
			<thead>
				<tr>
					<th><input type="checkbox" id="allcheck" onclick="allcheck();"></th>
					<th>상품명</th>
					<th>가격</th>
				</tr>
			</thead>
			<tbody id="list">
				<!-- 				<tr> -->
				<!-- 					<td><input type="checkbox" name="a"></td> -->
				<!-- 					<td>상품명</td> -->
				<!-- 					<td>가격</td> -->
				<!-- 				</tr> -->
			</tbody>
		</table>

		<input type="button" value="구매하기" onclick="method2();">





	</form>

</body>
<script> 
   
   
   		var html = document.getElementById("list");
   		//product["pd_name"][aa]
   		var ea = product["pd_name"].length // 전체 체크시 사용하기 위한 개수
		var tr,td,input;
   		Object.keys(product["pd_name"]).forEach(function (aa,bb,cc) {
// 			console.log(aa)
			tr = document.createElement("tr");
			for(var f in product["pd_name"][aa]){
				td = document.createElement("td");
				var code;
				switch (f){
				
				case "0" : //싱품명
					code = 2;
					input = document.createElement("input");
					input.type="checkbox";
					input.name="pd"
					input.value=product["pd_name"][aa][f];
					td.append(input);
				break;
				
				case "1" : //가격
					code = 0;
					td.append(product["pd_name"][aa][code]);
				break;
					
				case "2" : //고유값
					code = 1;
					td.append(Number(product["pd_name"][aa][code]).toLocaleString());
				break;
					
				
				}
// 				console.log(product["pd_name"][aa][f])
				
				
				tr.append(td);
				html.append(tr);
				
				
				
				

				


			}



		});
      	
   
   </script>
</html>


